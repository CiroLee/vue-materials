import{d as b,l as u,f as d,H as $,o as g,g as k,t as x,u as B,b as r,a as v}from"./index-f393927b.js";const f=b({__name:"numberAnimate",props:{start:null,end:null,precision:{default:0},rate:{default:1},separator:{type:Boolean,default:!1},prefix:{default:""}},setup(i,{expose:p}){const l=i;let o=0;const c=u(!1),n=u(!1),a=u(""),e=d(()=>Math.round(Math.abs(l.precision))),t=d(()=>l.start.toFixed(e.value)),V=d(()=>Math.abs(l.rate)),m=(s,y)=>{const[h,_]=String(s).split(".");return y?`${Number(h).toLocaleString()}${_?`.${_}`:""}`:s};return p({play:()=>{if(c.value)return;c.value=!0,n.value=!1;let s=1/10**e.value||1;s=l.start<l.end?s:-s,a.value=`${t.value}`,o=setInterval(()=>{Number(a.value)!==l.end?a.value=(Number(a.value)+s).toFixed(e.value):(clearInterval(o),n.value=!0,c.value=!1)},V.value)}}),$(()=>{clearInterval(o)}),(s,y)=>(g(),k("div",null,x(i.prefix)+x(n.value||c.value?m(a.value,i.separator):m(B(t),i.separator)),1))}}),N=r("h2",{class:"g-title"},"number-animate",-1),C={"my-20px":""},I=r("p",null,"前缀 + 分位符",-1),M={"my-20px":""},S=r("p",null,"自定义速率",-1),E={"my-20px":""},H=b({__name:"index",setup(i){const p=u(),l=u(),o=u();return(c,n)=>(g(),k("div",null,[N,r("div",C,[I,v(f,{ref_key:"na0",ref:p,start:67890,end:9999,separator:"",prefix:"$"},null,512),r("button",{onClick:n[0]||(n[0]=(...a)=>{var e,t;return((e=p.value)==null?void 0:e.play)&&((t=p.value)==null?void 0:t.play(...a))})},"play")]),r("div",M,[S,v(f,{ref_key:"na1",ref:l,start:1,end:99,precision:2,rate:500,separator:""},null,512),r("button",{onClick:n[1]||(n[1]=(...a)=>{var e,t;return((e=l.value)==null?void 0:e.play)&&((t=l.value)==null?void 0:t.play(...a))})},"play")]),r("div",E,[v(f,{ref_key:"na2",ref:o,start:10,end:0,precision:3},null,512),r("button",{onClick:n[2]||(n[2]=(...a)=>{var e,t;return((e=o.value)==null?void 0:e.play)&&((t=o.value)==null?void 0:t.play(...a))})},"play")])]))}});export{H as default};
