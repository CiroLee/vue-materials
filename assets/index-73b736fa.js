import{d as h,l as i,e as d,E as S,o as g,f as k,t as x,u as $,a as r,h as v,p as B,q as N,_ as C}from"./index-199e0254.js";const f=h({__name:"number-animate",props:{start:null,end:null,precision:{default:0},rate:{default:1},separator:{type:Boolean,default:!1},prefix:{default:""}},setup(s,{expose:p}){const l=s;let u=0;const c=i(!1),n=i(!1),a=i(""),e=d(()=>Math.round(Math.abs(l.precision))),t=d(()=>l.start.toFixed(e.value)),V=d(()=>Math.abs(l.rate)),m=(o,y)=>{const[I,b]=String(o).split(".");return y?`${Number(I).toLocaleString()}${b?`.${b}`:""}`:o};return p({play:()=>{if(c.value)return;c.value=!0,n.value=!1;let o=1/10**e.value||1;o=l.start<l.end?o:-o,a.value=`${t.value}`,u=setInterval(()=>{Number(a.value)!==l.end?a.value=(Number(a.value)+o).toFixed(e.value):(clearInterval(u),n.value=!0,c.value=!1)},V.value)}}),S(()=>{clearInterval(u)}),(o,y)=>(g(),k("div",null,x(s.prefix)+x(n.value||c.value?m(a.value,s.separator):m($(t),s.separator)),1))}}),_=s=>(B("data-v-bf055423"),s=s(),N(),s),E=_(()=>r("h2",{class:"g-title"},"number-animate",-1)),M={class:"panel"},F=_(()=>r("p",null,"前缀 + 分位符",-1)),q={class:"panel"},w=_(()=>r("p",null,"自定义速率",-1)),D={class:"panel"},L=h({__name:"index",setup(s){const p=i(),l=i(),u=i();return(c,n)=>(g(),k("div",null,[E,r("div",M,[F,v(f,{ref_key:"na0",ref:p,start:67890,end:9999,separator:"",prefix:"$"},null,512),r("button",{onClick:n[0]||(n[0]=(...a)=>{var e,t;return((e=p.value)==null?void 0:e.play)&&((t=p.value)==null?void 0:t.play(...a))})},"play")]),r("div",q,[w,v(f,{ref_key:"na1",ref:l,start:1,end:99,precision:2,rate:500,separator:""},null,512),r("button",{onClick:n[1]||(n[1]=(...a)=>{var e,t;return((e=l.value)==null?void 0:e.play)&&((t=l.value)==null?void 0:t.play(...a))})},"play")]),r("div",D,[v(f,{ref_key:"na2",ref:u,start:10,end:0,precision:3},null,512),r("button",{onClick:n[2]||(n[2]=(...a)=>{var e,t;return((e=u.value)==null?void 0:e.play)&&((t=u.value)==null?void 0:t.play(...a))})},"play")])]))}});const z=C(L,[["__scopeId","data-v-bf055423"]]);export{z as default};
