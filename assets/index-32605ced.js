import{d as x,l as u,g as d,H as $,o as g,h as k,t as b,b as s,a as c}from"./index-c7649b55.js";const v=x({__name:"numberAnimate",props:{start:{},end:{},precision:{default:0},rate:{default:1},separator:{type:Boolean,default:!1},prefix:{default:""}},setup(f,{expose:i}){const n=f;let o=0;const p=u(!1),r=u(!1),a=u(""),e=d(()=>Math.round(Math.abs(n.precision))),t=d(()=>n.start.toFixed(e.value)),V=d(()=>Math.abs(n.rate)),m=(l,y)=>{const[h,_]=String(l).split(".");return y?`${Number(h).toLocaleString()}${_?`.${_}`:""}`:l};return i({play:()=>{if(p.value)return;p.value=!0,r.value=!1;let l=1/10**e.value||1;l=n.start<n.end?l:-l,a.value=`${t.value}`,o=setInterval(()=>{Number(a.value)!==n.end?a.value=(Number(a.value)+l).toFixed(e.value):(clearInterval(o),r.value=!0,p.value=!1)},V.value)}}),$(()=>{clearInterval(o)}),(l,y)=>(g(),k("div",null,b(l.prefix)+b(r.value||p.value?m(a.value,l.separator):m(t.value,l.separator)),1))}}),B=s("h2",{class:"g-title"},"number-animate",-1),N={"my-20px":""},C=s("p",null,"前缀 + 分位符",-1),I={"my-20px":""},M=s("p",null,"自定义速率",-1),S={"my-20px":""},D=x({__name:"index",setup(f){const i=u(),n=u(),o=u();return(p,r)=>(g(),k("div",null,[B,s("div",N,[C,c(v,{ref_key:"na0",ref:i,start:67890,end:9999,separator:"",prefix:"$"},null,512),s("button",{onClick:r[0]||(r[0]=(...a)=>{var e,t;return((e=i.value)==null?void 0:e.play)&&((t=i.value)==null?void 0:t.play(...a))})},"play")]),s("div",I,[M,c(v,{ref_key:"na1",ref:n,start:1,end:99,precision:2,rate:500,separator:""},null,512),s("button",{onClick:r[1]||(r[1]=(...a)=>{var e,t;return((e=n.value)==null?void 0:e.play)&&((t=n.value)==null?void 0:t.play(...a))})},"play")]),s("div",S,[c(v,{ref_key:"na2",ref:o,start:10,end:0,precision:3},null,512),s("button",{onClick:r[2]||(r[2]=(...a)=>{var e,t;return((e=o.value)==null?void 0:e.play)&&((t=o.value)==null?void 0:t.play(...a))})},"play")])]))}});export{D as default};
