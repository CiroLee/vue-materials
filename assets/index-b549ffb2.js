import{d as h,l as i,e as v,E as x,o as N,f as M,t as B,u as R,a as o,h as b}from"./index-1b6419c6.js";const g=h({__name:"number-animate",props:{start:null,end:null,precision:{default:0},speed:{default:1}},setup(m,{expose:s}){const e=m;let c=0;const a=i(!1),r=i(!1),t=i(""),n=v(()=>Math.round(e.precision)),k=v(()=>f(e.start,n.value)),V=v(()=>Math.abs(e.speed)),f=(l,d)=>{const[$,p=""]=l.toString().split(".");if(d){const _=Math.min(d,p.length);let u=p.slice(0,_);if(Number(p.at(_))>=5){const y=u.split("");y.splice(-1,1,String(Number(u[u.length-1])+1)),u=y.join("")}return`${$}.${u}${"0".repeat(Math.abs(d-p.length))}`}return`${Math.round(l)}`};return s({play:()=>{if(a.value)return;a.value=!0,r.value=!1;let l=1/10**n.value||1;a.value=!0,l=e.start<e.end?l:-l,t.value=`${e.start}`,c=setInterval(()=>{Math.abs(Number(t.value))<Math.abs(e.end)?t.value=(Number(t.value)+l).toFixed(n.value):(clearInterval(c),r.value=!0,a.value=!1,t.value=f(e.end,n.value))},V.value)}}),x(()=>{clearInterval(c)}),(l,d)=>(N(),M("div",null,B(r.value||a.value?t.value:R(k)),1))}}),S=o("h2",{class:"g-title"},"number-animate",-1),j=h({__name:"index",setup(m){const s=i(),e=i();return(c,a)=>(N(),M("div",null,[S,o("div",null,[b(g,{ref_key:"incrementNaRef",ref:s,start:0,end:24,precision:0,speed:20},null,512),o("button",{onClick:a[0]||(a[0]=(...r)=>{var t,n;return((t=s.value)==null?void 0:t.play)&&((n=s.value)==null?void 0:n.play(...r))})},"play(increment)")]),o("div",null,[b(g,{ref_key:"decrementNaRef",ref:e,start:10,end:-33,precision:2},null,512),o("button",{onClick:a[1]||(a[1]=(...r)=>{var t,n;return((t=e.value)==null?void 0:t.play)&&((n=e.value)==null?void 0:n.play(...r))})},"play(decrement)")])]))}});export{j as default};
